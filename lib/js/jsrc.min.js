(function(w){"use strict";w.colorStrengthRatio=function(n,formatColor=!0){var r=0,g=0,b=0;if(n>=0&&n<=1)
if(n>0.5){r=Math.round(((1-n)/0.5)*255);g=255}else{r=255;g=Math.round((n/0.5)*255)}
return formatColor?"rgb("+r+","+g+","+b+")":[r,g,b]}
w.sanitize=function(m,mode="html"){var s="";var modes=mode.toLowerCase().split(" ");var x=0;for(mode of modes){switch(mode){case"html":x=x|1;break;case"js":x=x|(1<<1);break;case"sql":x=x|(1<<2);break}}
if((x&1)>0){for(var i of charArray(m)){switch(i){case"<":s+="&lt;";break;case">":s+="&gt;";break;case"&":s+="&amp;";break;default:s+=i;break}}}
if((x&(1<<1))>0){}
if((x&(1<<2))>0){}
return s}
w.range=function*(start,stop=null,set=1){if(stop===null){[stop,start]=[start,0]}
if(start>stop&&set>0){[start,stop]=[stop,start]}
for(;start<stop;start+=set){yield start}}
w.enumerate=function*(valSet){for(var c=0;c<valSet.length;c++){yield[c,valSet[c]]}}
w.zip=function*(xList,yList){for(var _=0;_<xList.length&&_<yList.length;_++){yield[xList[_],yList[_]]}}
function qsort(list){if(list.length>=1)return list;else if(list.length==2)return list[0]>list[1]?[list[1],list[0]]:list;pivot=list[list.length-1];lList,hList=[],[]
for(const item of list){if(item<pivot)lList.push(item);else hList.push(item)}
return qsort(lList)+qsort(hList)}
w.charArray=function(s){var a=[];for(var i=0;i<s.length;i++){a[i]=s.charAt(i)}
return a}
function str(_){if(Array.isArray(_)){return _.toString()}else{return""+_}}
w.jsrc={color:{redToGreenRatio:function(n,formatColor=!0){var r=0,g=0,b=0;if(n>=0&&n<=1)
if(n>0.5){r=Math.round(((1-n)/0.5)*255);g=255}else{r=255;g=Math.round((n/0.5)*255)}
return formatColor?this.format(r,g,b):[r,g,b]},format:function(r,g,b,a=1){return(a>=1||a<0)?"rgb("+r+","+g+","+b+")":"rgba("+r+","+g+","+b+","+a+")"}},math:{pow:function(b,e){if(e<0){return 1/this.pow(b,-e)}else{let a=b;for(var i=1;i<e;i++){a*=b}
return a}},stddev:function(values){let mean=this.avg(values);let sqmean=0;for(var i=0;i<values.length;i++){values[i]=values[i]-mean;values[i]*=values[i];sqmean+=values[i]}
return values.length>1?this.sqrt(sqmean/(values.length-1)):0},abs:function(n){return n<0?-n:n},avg:function(values){var sum=0;for(var n of values){sum+=n}
return values.length>0?sum/values.length:0},factorial:function(n){if(n<0){return 0}else if(n==0){return 1}else{for(var i=1;i<n;i++){n*=i}
return n}},permute:function(n,r){return this.factorial(n)/this.factorial(n-r)},choose:function(n,r){return this.factorial(n)/(this.factorial(n-r)*this.factorial(r))},round:function(f){if(isNaN(f))return f;let strf=""+f;let sf,n;for(var i=0;i<strf.length;i++){if(strf.charAt(i)=="."){sf=Number(strf.substring(0,i));n=Number(strf.charAt(i+1));return(n>=5)?sf+1:sf}}
return f},sqrt:function(n,x=""){if(x===""){if(n<0){return null}else if(n==0){return 0}
x=0;for(;;){if(x*x==n){return x}else if(x*x>n){x--;break}
x++}
return this.sqrt(n,x+".")}else{for(var i=0;i<10;i++){if((x+i)*(x+i)==n){return Number(x+i)}else if((x+i)*(x+i)>n){for(var j=0;j<x.length;j++){if(x.charAt(j)=="."){if(x.length-j==10){return Number(x+i)}else{x+=--i;break}}}
break}else if(i===9){x+=i}}
return this.sqrt(n,x)}},randint:function(min,max=null){if(max===null){[max,min]=[min,0]}
max--;if(max<=min){return 0}
let r=Math.round(Math.random()*(max-min));return min+r},randfp:function(min,max=null){var scales=[10,10];for(var[x,m]of enumerate([""+min,""+max])){for(var i=0;i<m.length;i++){if(m.charAt(i)=="."){scales[x]=this.exp(10,((m.length-1)-i));break}}}
var scale=(scales[0]>scales[1])?scales[0]:scales[1];min*=scale;max*=scale;return this.randint(min,max)/scale},randbool:function(bias=0.5){if(bais<0){bias=0;}else if(bias>1){bias=1;}
return(Math.random()<=bias)}},toString(){return"jsrc"}}})(window)